<br />
<div class="row">
    <div class="col-md-12">
        <div class="jumbotron">
            <h1>HACK FMI Event</h1>
            @*<p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS, and JavaScript.</p>
            <p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>*@
        </div>
    </div>
    <div class="col-md-12">
        <h2>Event starts in:</h2>
        @*<h2>Getting started</h2>
        <p>ASP.NET Web API is a framework that makes it easy to build HTTP services that reach
        a broad range of clients, including browsers and mobile devices. ASP.NET Web API
        is an ideal platform for building RESTful applications on the .NET Framework.</p>
        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301870">Learn more &raquo;</a></p>*@
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <h2>Teams</h2>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <h2>Stormtroopers</h2>
        <h2 class="team-score" data-team="1">Score:</h2>
    </div>
    <div class="col-md-4">
        <h2>Lannisters</h2>
        <h2 class="team-score" data-team="2">Score:</h2>
    </div>
    <div class="col-md-4">
        <h2>Night elves</h2>
        <h2 class="team-score" data-team="3">Score:</h2>
    </div>
</div>
 <input id="startEvent" value="Start event" type="button" class="button-lg button-success"/> 

<div class="row leaderBoardContainer"> 
    <fieldset>
        <legend>Leaderboard</legend>
        <table id="leaderBoard" class="leaderBoard">
            <thead>Top 15 players</thead>
            <tr class="template hidden" data-guid="Guid">
                <td class="avatar" data-prop="AvatarPath"></td>
                <td class="username" data-prop="Username"></td>
                <td class="team"  data-prop="Team"></td>
                <td class="score"  data-prop="Score"></td>
            </tr>
        </table>
    </fieldset>
</div>

<span id="eventStartsIn"></span>
@section Scripts {

    <script src="~/Scripts/PageScripts/leaderBoard.js"></script>
    @*----------signal r events*@
   <script type="text/javascript">
            $(function () {
                // Declare a proxy to reference the hub.
                var hub = $.connection.goTagSignalRHub;
                // Create a function that the hub can call to broadcast messages.
                hub.client.newCorrectAnswer = function (user) {
                    var user = JSON.parse(user);
                    alert(user.Username);
                };
                
                hub.client.eventStartCountDown = function () {
                    alert("Event starts in 30 seconds. Get ready!");
                }

                hub.client.eventStartCountDownUpdate = function (secondsLeft) {
                    console.log("Seconds left: " + secondsLeft);
                    $("#eventStartsIn").text("Event starts in: " + secondsLeft);
                    if (secondsLeft == 0)
                    {
                        $("#eventStartsIn").text("");
                    }
                }

                hub.client.startEvent = function () {
                    console.log("Event started!");
                }

                $.connection.hub.start().done(function () {
                    $('#startEvent').click(function () {
                        hub.server.callStartEvent();
                    });
                });
            });
</script>
}
    